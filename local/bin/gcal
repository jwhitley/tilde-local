#!/usr/bin/env ruby
%w(rubygems open-uri hpricot).each {|lib| require lib }
encode = lambda{|s| s.to_s.gsub(/[^a-zA-Z0-9_\-.]/n){ sprintf("%%%02X", $&.unpack("C")[0]) }}
doc = Hpricot(open("http://www.google.com/search?q=#{encode[ARGV*' ']}"))
puts (doc/'/html/body/p/table/tr/td[3]/font/b').inner_text

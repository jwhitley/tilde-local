#!/bin/zsh

assert_ok() {
    if [[ $? -ne 0 ]]; then
        echo "command $* failed, code $?"
        exit 1
    fi
}

### dump local installations
# homebrew
/Users/whitley/local/mac/bin/brew-export > /Users/whitley/Archive/backup/homebrew-installed
assert_ok brew export

# dump postgres
#/opt/local/lib/postgresql82/bin/pg_dumpall -h localhost -U postgres > /Users/whitley/Archive/backup/pgsql-backup.sql
#assert_ok pg_dumpall

#!/bin/zsh

mvim_wait=( mvim -f --nomru )

case $TERM_PROGRAM in
  iTerm.app)
    $mvim_wait -c "au VimLeave * !open -a iTerm" $* ;;
  Apple_Terminal)
    $mvim_wait -c "au VimLeave * !open -a Terminal" $* ;;
  *)
    echo "$0: Unknown value for TERM_PROGRAM: '$TERM_PROGRAM'"
    $mvim_wait $*
esac
